<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Анастасия Конопленко — Кинолог</title>
    <script>
        function log(msg, color = 'blue') {
            const div = document.createElement('div');
            div.textContent = msg;
            div.style.position = 'fixed';
            div.style.bottom = '0';
            div.style.left = '0';
            div.style.width = '100%';
            div.style.backgroundColor = color;
            div.style.color = 'white';
            div.style.fontSize = '14px';
            div.style.zIndex = 9999;
            div.style.padding = '4px';
            div.style.fontFamily = 'sans-serif';
            document.body.appendChild(div);
            console.log(msg);
            setTimeout(() => div.remove(), 7000);
        }

        // 1. HTML загружен
        window.addEventListener('DOMContentLoaded', () => log('✅ HTML загружен', 'green'));

        // 2. CSS и ресурсы
        window.addEventListener('load', () => {
            log('✅ Все CSS и ресурсы загружены', 'green');

            // Проверка JS
            const scripts = document.querySelectorAll('script[src]');
            scripts.forEach(s => {
                const test = new Image();
                test.onload = () => log(`✅ JS доступен: ${s.src}`, 'green');
                test.onerror = () => log(`❌ Ошибка JS: ${s.src}`, 'red');
                test.src = s.src;
            });

            // Проверка всех картинок
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                const test = new Image();
                test.onload = () => log(`✅ Картинка загружена: ${img.src}`, 'green');
                test.onerror = () => log(`❌ Не загрузилась картинка: ${img.src}`, 'red');
                test.src = img.src;
            });

            // Пробный fetch к бэку
            fetch('https://nastya-site-backend.onrender.com/reviews')
                .then(res => res.json())
                .then(data => log(`✅ Fetch /reviews: OK, ${data.length} записей`, 'green'))
                .catch(e => log(`❌ Fetch /reviews: ${e.message}`, 'red'));
        });
    </script>

</head>
<body>
<div id="app"></div>
    <script type="module" src="/src/main.js"></script>
</body>
</html>
